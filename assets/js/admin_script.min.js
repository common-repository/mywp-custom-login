!function(e){const{__:n,_x:t,_n:o,_nx:s,sprintf:i}=wp.i18n;function c(n){var t=function(n){var t=new FormData(n);return e(n).find("input[type=checkbox]").each(function(){t.append(e(this).attr("name"),e(this).is(":checked")?"true":"false")}),t}(n);!function(n){e(n).addClass("loading")}(n),function(n){e(n).find("button,input,textarea,select").prop("disabled",!0)}(n),e.ajax({url:mywp_custom_login.save_settings_api_url,beforeSend:function(e){e.setRequestHeader("X-WP-Nonce",mywp_custom_login.nonce)},method:"POST",data:t,processData:!1,contentType:!1,cache:!1,success:function(e){console.log(e),u(n),r(n),a(e.code,e.message)},error:function(e){console.log(e),u(n),r(n),a(e.responseJSON.code,e.responseJSON.message,!0)}})}function a(n,t,o=!1){var s=e('<div class="notice"></div>'),i=(t=e("<p><strong>"+t+"</strong></p>"),e('<button type="button" class="notice-dismiss"><span class="screen-reader-text">Dismiss this notice.</span></button>'));s.append(t),s.addClass("success"===n?"notice-success":"notice-error"),o?(s.addClass("is-dismissible"),s.append(i),i.on("click",function(){s.remove()})):setTimeout(function(){s.remove()},5555),e("#wpbody").prepend(s)}function r(n){e(n).find("button,input,textarea,select").prop("disabled",!1)}function u(n){e(n).removeClass("loading")}e("#wpwrap").addClass("wpwrap--has-mywp-admin"),console.log(e(".media-field")),e(".media-field").each(function(t){var o=e(this).children("input"),s=wp.media({title:n("Choose Image","mywp-custom-login"),button:{text:n("Select Image","mywp-custom-login")},multiple:!1}).on("select",function(){o.val(s.state().get("selection").first().toJSON().url),o.trigger("change")});e(this).children("button.upload-button").on("click",function(e){s.open()}),e(this).children("button.clear-button").on("click",function(e){o.val(""),o.trigger("change")})}),e(".color-picker-field").wpColorPicker(),e(".submit-form").on("click",function(n){e(this).parents("form").submit()}),e("form.mywp-custom-login__settings_form").on("submit",function(e){e.preventDefault(),c(this)})}(jQuery);